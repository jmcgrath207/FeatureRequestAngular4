<div class="card bottom" *ngFor="let item of newCommentTable;let i = index"
     style="margin: 1%;" >



  <div class="card-header-comment" >
    <div *ngIf="item.commentNumber == latestCommmentNumber">
    <em>Comment # {{item.commentNumber}}
      <strong style="padding-left:1em">Latest</strong></em>
    </div>

    <em *ngIf="item.commentNumber != latestCommmentNumber"> Comment # {{item.commentNumber}} </em>

  </div>

  <div class="card-block" [ngClass]="{'bottomHistory': item.showHistory}">
    <blockquote class="card-blockquote">
      <p>{{ item.commentDescription }}</p>

      <footer>


        <cite title="{{ item.creationUser}}">
          <small>Created by: <a>{{ item.creationUser}}</a></small>
        </cite>


        <cite title="{{ item.creationDate}}">
          <small>Created Time: {{ item.creationDate}}</small>
        </cite>

        <cite title="{{ item.updateUser}}">
          <small>Updated by: <a>{{ item.updateUser}}</a></small>
        </cite>


        <cite title="{{ item.updateDate}}">
          <small>Update Time: {{ item.updateDate}}</small>
        </cite>


        <cite class="float-right" title="History" style="padding-right: 2%">
          <small><button class="btn btn-info btn-sm" (click)="toggleCommentHistory(i)" >History</button></small>
        </cite>
      </footer>

    </blockquote>
  </div>





  <!--DROP DOWN-->
<!--##TODO: find out how to keep data presietnat when two comment history windows are open-->
<div  *ngIf="item.showHistory && newCommentHistoryObject[i]" >
  <div class="bottomHistory" *ngFor="let item2 of newCommentHistoryObject[i]['CommentHistory']"  >
    <div class="card-header-history">
    <div *ngIf="item2.commentNumber == newCommentHistoryObject[i]['CommentHistoryLength']">
      <small><em>Comment History # {{item2.commentNumber}}
        <small></small><strong style="padding-left:1em">Latest History</strong></em></small>
    </div>

    <small><em *ngIf="item2.commentNumber != newCommentHistoryObject[i]['CommentHistoryLength']"> Comment History # {{item2.commentNumber}} </em></small>
    </div>

  <!-- TODO: Add interlpolation ! if the value does not exist-->
  <div class="card-block">
    <blockquote class="card-blockquote">
      <small>{{ item2.commentDescription}}</small>
      <footer>


        <cite title="{{ item2.creationUser}}">
          <small>Created by: <a>{{ item2.creationUser}}</a></small>
        </cite>


        <cite title="{{ item2.creationDate}}">
          <small>Created Time: {{ item2.creationDate}}</small>
        </cite>

        <cite title="{{ item2.updateUser}}">
          <small>Updated by: <a>{{ item2.updateUser}}</a></small>
        </cite>


        <cite title="{{ item2.updateDate}}">
          <small>Update Time: {{ item2.updateDate}}</small>
        </cite>

      </footer>

    </blockquote>
  </div>
  </div>
</div>
</div>
